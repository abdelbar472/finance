{
  "info": {
    "name": "Finance gRPC - Complete Test Suite",
    "description": "Complete test collection for Finance gRPC service with all 4 endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "finance-grpc-tests-001",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "server_url",
      "value": "localhost:50051",
      "type": "string"
    },
    {
      "key": "user123_id",
      "value": "user123",
      "type": "string"
    },
    {
      "key": "user456_id",
      "value": "user456",
      "type": "string"
    },
    {
      "key": "user789_id",
      "value": "user789",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Income Transactions",
      "description": "Test creating income transactions with different categories",
      "item": [
        {
          "name": "1.1 Create Income - Salary",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 5000.00,\n  \"type\": \"income\",\n  \"category\": \"salary\",\n  \"description\": \"Monthly salary - January 2024\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            },
            "description": "Create a salary income transaction of $5000"
          }
        },
        {
          "name": "1.2 Create Income - Freelance",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 1200.50,\n  \"type\": \"income\",\n  \"category\": \"freelance\",\n  \"description\": \"Web development project\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "1.3 Create Income - Investment",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 350.75,\n  \"type\": \"income\",\n  \"category\": \"investment\",\n  \"description\": \"Stock dividends Q1\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        }
      ]
    },
    {
      "name": "2. Expense Transactions",
      "description": "Test creating expense transactions with different categories",
      "item": [
        {
          "name": "2.1 Create Expense - Rent",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 1500.00,\n  \"type\": \"expense\",\n  \"category\": \"rent\",\n  \"description\": \"Monthly apartment rent\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "2.2 Create Expense - Groceries",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 450.30,\n  \"type\": \"expense\",\n  \"category\": \"groceries\",\n  \"description\": \"Weekly grocery shopping\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "2.3 Create Expense - Utilities",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 125.60,\n  \"type\": \"expense\",\n  \"category\": \"utilities\",\n  \"description\": \"Electric and water bills\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "2.4 Create Expense - Transportation",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 85.00,\n  \"type\": \"expense\",\n  \"category\": \"transportation\",\n  \"description\": \"Monthly bus pass\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "2.5 Create Expense - Entertainment",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 75.50,\n  \"type\": \"expense\",\n  \"category\": \"entertainment\",\n  \"description\": \"Movie tickets and dinner\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        }
      ]
    },
    {
      "name": "3. Query Operations",
      "description": "Test GetBalance, ListTransactions, and GetTransaction endpoints",
      "item": [
        {
          "name": "3.1 Get Balance - User123",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/GetBalance",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "GetBalance"]
            },
            "description": "Get the current balance for user123. Expected: 4314.85"
          }
        },
        {
          "name": "3.2 List Transactions - User123",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/ListTransactions",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "ListTransactions"]
            },
            "description": "List all transactions for user123"
          }
        },
        {
          "name": "3.3 Get Transaction by ID",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"PASTE_TRANSACTION_ID_HERE\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/GetTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "GetTransaction"]
            },
            "description": "Get a specific transaction by ID. Replace PASTE_TRANSACTION_ID_HERE with an actual ID from a CreateTransaction response"
          }
        }
      ]
    },
    {
      "name": "4. Multiple Users",
      "description": "Test transactions with different users",
      "item": [
        {
          "name": "4.1 User456 - Create Income",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user456_id}}\",\n  \"amount\": 3500.00,\n  \"type\": \"income\",\n  \"category\": \"salary\",\n  \"description\": \"User456 monthly salary\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "4.2 User456 - Create Expense",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user456_id}}\",\n  \"amount\": 800.00,\n  \"type\": \"expense\",\n  \"category\": \"rent\",\n  \"description\": \"User456 rent payment\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "4.3 User456 - Get Balance",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user456_id}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/GetBalance",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "GetBalance"]
            },
            "description": "Expected balance: 2700.00"
          }
        },
        {
          "name": "4.4 User789 - Create Income",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user789_id}}\",\n  \"amount\": 2000.00,\n  \"type\": \"income\",\n  \"category\": \"salary\",\n  \"description\": \"User789 part-time income\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "4.5 User789 - Create Expense",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user789_id}}\",\n  \"amount\": 500.00,\n  \"type\": \"expense\",\n  \"category\": \"shopping\",\n  \"description\": \"Electronics purchase\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "4.6 User789 - Get Balance",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user789_id}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/GetBalance",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "GetBalance"]
            },
            "description": "Expected balance: 1500.00"
          }
        }
      ]
    },
    {
      "name": "5. Edge Cases",
      "description": "Test edge cases and boundary conditions",
      "item": [
        {
          "name": "5.1 Minimum Amount (0.01)",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 0.01,\n  \"type\": \"income\",\n  \"category\": \"test\",\n  \"description\": \"Minimum amount test\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "5.2 Large Amount (999999.99)",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 999999.99,\n  \"type\": \"income\",\n  \"category\": \"test\",\n  \"description\": \"Large amount test\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "5.3 Empty Description",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 100.00,\n  \"type\": \"income\",\n  \"category\": \"bonus\",\n  \"description\": \"\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "5.4 Non-existent User Balance",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"nonexistent_user_xyz\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/GetBalance",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "GetBalance"]
            },
            "description": "Expected balance: 0.00"
          }
        },
        {
          "name": "5.5 Empty Transaction List",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"nonexistent_user_xyz\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/ListTransactions",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "ListTransactions"]
            },
            "description": "Expected: Empty array"
          }
        },
        {
          "name": "5.6 Invalid Transaction ID",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"invalid-transaction-id-12345-xyz\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/GetTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "GetTransaction"]
            },
            "description": "Expected: null or empty response"
          }
        }
      ]
    },
    {
      "name": "6. Category Variations",
      "description": "Test different transaction categories",
      "item": [
        {
          "name": "6.1 Healthcare Expense",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 250.00,\n  \"type\": \"expense\",\n  \"category\": \"healthcare\",\n  \"description\": \"Doctor visit and medications\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "6.2 Education Expense",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 500.00,\n  \"type\": \"expense\",\n  \"category\": \"education\",\n  \"description\": \"Online course subscription\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        },
        {
          "name": "6.3 Savings Income",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user123_id}}\",\n  \"amount\": 1000.00,\n  \"type\": \"income\",\n  \"category\": \"savings\",\n  \"description\": \"Interest from savings account\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "grpc://{{server_url}}/finance.FinanceService/CreateTransaction",
              "protocol": "grpc",
              "host": ["{{server_url}}"],
              "path": ["finance.FinanceService", "CreateTransaction"]
            }
          }
        }
      ]
    }
  ]
}
